var App=Ember.Application.create({});App.Router.map(function(){this.resource("xml",function(){this.route("paste")});this.resource("about")});App.IndexRoute=Ember.Route.extend({redirect:function(){this.transitionTo("xml.paste")}});App.XmlRoute=Ember.Route.extend({events:{xmlrender:function(e){this.get("controller").setProperties({xml:e,content:XMLParser.parse(e)});this.render("rendered",{into:"xml",outlet:"rendered"})},showjson:function(e){this.get("controller").set("json",e);this.render("json",{into:"xml",outlet:"json"})},clearAll:function(){this.clearOutlet("xml","rendered");this.clearOutlet("xml","json")}}});Ember.Route.reopen({clearOutlet:function(e,t){var r=this.router._lookupActiveView(e);r.disconnectOutlet(t)}});App.XmlController=Ember.Controller.extend({attributes:true,inline:false,clearDisabled:true,generate:function(e){if(e instanceof App.XmlController){e=this.get("tag")}else{this.set("tag",e)}var t=XMLParser.toJSON(this.get("xml"),e,this.get("attributes"),this.get("inline"));this.send("showjson",t);this.set("clearDisabled",false)}.observes("attributes","inline"),clear:function(){this.send("clearAll");this.set("clearDisabled",true)}});App.XmlView=Ember.View.extend({tagName:"form",submit:function(e){var t=$(e.target).find(".field"),r=t.val();if(r){this.get("controller").send("xmlrender",r)}else{t.focus()}e.preventDefault()},click:function(e){if($(e.target).hasClass("btn-clear")){this.get("controller").send("clear")}},focusOut:function(e){var t=e.target;if(t.nodeName==="TEXTAREA"&&!t.value){this.get("controller").send("clear");$(e.target).focus()}}});App.RenderedView=Ember.View.extend({didInsertElement:function(){var e=this.$(".tag"),t=this;this.$().on("click",".tag",function(){e.removeClass("selected").filter("."+$(this).data("tag")).toggleClass("selected");t.get("controller").send("generate",this.dataset["tag"].split("-"))});e.first().trigger("click")}});