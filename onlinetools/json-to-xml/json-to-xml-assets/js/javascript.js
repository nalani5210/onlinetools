(function(e){if(typeof exports=="object"&&typeof module=="object")e(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],e);else e(CodeMirror)})(function(Ke){"use strict";Ke.defineMode("javascript",function(e,s){var l=e.indentUnit;var c=s.statementIndent;var a=s.jsonld;var u=s.json||a;var d=s.typescript;var p=s.wordCharacters||/[\w$\xa1-\uffff]/;var f=function(){function e(e){return{type:e,style:"keyword"}}var r=e("keyword a"),t=e("keyword b"),n=e("keyword c"),i=e("keyword d");var a=e("operator"),f={type:"atom",style:"atom"};return{if:e("if"),while:r,with:r,else:t,do:t,try:t,finally:t,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:f,false:f,null:f,undefined:f,NaN:f,Infinity:f,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}();var o=/[+\-*&%=<>!?|~^@]/;var m=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function k(e){var r=false,t,n=false;while((t=e.next())!=null){if(!r){if(t=="/"&&!n)return;if(t=="[")n=true;else if(n&&t=="]")n=false}r=!r&&t=="\\"}}var n,i;function v(e,r,t){n=e;i=t;return r}function y(e,r){var t=e.next();if(t=='"'||t=="'"){r.tokenize=w(t);return r.tokenize(e,r)}else if(t=="."&&e.match(/^\d+(?:[eE][+\-]?\d+)?/)){return v("number","number")}else if(t=="."&&e.match("..")){return v("spread","meta")}else if(/[\[\]{}\(\),;\:\.]/.test(t)){return v(t)}else if(t=="="&&e.eat(">")){return v("=>","operator")}else if(t=="0"&&e.eat(/x/i)){e.eatWhile(/[\da-f]/i);return v("number","number")}else if(t=="0"&&e.eat(/o/i)){e.eatWhile(/[0-7]/i);return v("number","number")}else if(t=="0"&&e.eat(/b/i)){e.eatWhile(/[01]/i);return v("number","number")}else if(/\d/.test(t)){e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return v("number","number")}else if(t=="/"){if(e.eat("*")){r.tokenize=b;return b(e,r)}else if(e.eat("/")){e.skipToEnd();return v("comment","comment")}else if(Je(e,r,1)){k(e);e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return v("regexp","string-2")}else{e.eat("=");return v("operator","operator",e.current())}}else if(t=="`"){r.tokenize=h;return h(e,r)}else if(t=="#"){e.skipToEnd();return v("error","error")}else if(o.test(t)){if(t!=">"||!r.lexical||r.lexical.type!=">"){if(e.eat("=")){if(t=="!"||t=="=")e.eat("=")}else if(/[<>*+\-]/.test(t)){e.eat(t);if(t==">")e.eat(t)}}return v("operator","operator",e.current())}else if(p.test(t)){e.eatWhile(p);var n=e.current();if(r.lastType!="."){if(f.propertyIsEnumerable(n)){var i=f[n];return v(i.type,i.style,n)}if(n=="async"&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,false))return v("async","keyword",n)}return v("variable","variable",n)}}function w(i){return function(e,r){var t=false,n;if(a&&e.peek()=="@"&&e.match(m)){r.tokenize=y;return v("jsonld-keyword","meta")}while((n=e.next())!=null){if(n==i&&!t)break;t=!t&&n=="\\"}if(!t)r.tokenize=y;return v("string","string")}}function b(e,r){var t=false,n;while(n=e.next()){if(n=="/"&&t){r.tokenize=y;break}t=n=="*"}return v("comment","comment")}function h(e,r){var t=false,n;while((n=e.next())!=null){if(!t&&(n=="`"||n=="$"&&e.eat("{"))){r.tokenize=y;break}t=!t&&n=="\\"}return v("quasi","string-2",e.current())}var x="([{}])";function g(e,r){if(r.fatArrowAt)r.fatArrowAt=null;var t=e.string.indexOf("=>",e.start);if(t<0)return;if(d){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,t));if(n)t=n.index}var i=0,a=false;for(var f=t-1;f>=0;--f){var u=e.string.charAt(f);var o=x.indexOf(u);if(o>=0&&o<3){if(!i){++f;break}if(--i==0){if(u=="(")a=true;break}}else if(o>=3&&o<6){++i}else if(p.test(u)){a=true}else if(/["'\/]/.test(u)){return}else if(a&&!i){++f;break}}if(a&&!i)r.fatArrowAt=f}var j={atom:true,number:true,variable:true,string:true,regexp:true,this:true,"jsonld-keyword":true};function M(e,r,t,n,i,a){this.indented=e;this.column=r;this.type=t;this.prev=i;this.info=a;if(n!=null)this.align=n}function V(e,r){for(var t=e.localVars;t;t=t.next)if(t.name==r)return true;for(var n=e.context;n;n=n.prev){for(var t=n.vars;t;t=t.next)if(t.name==r)return true}}function A(e,r,t,n,i){var a=e.cc;E.state=e;E.stream=i;E.marked=null,E.cc=a;E.style=r;if(!e.lexical.hasOwnProperty("align"))e.lexical.align=true;while(true){var f=a.length?a.pop():u?W:S;if(f(t,n)){while(a.length&&a[a.length-1].lex)a.pop()();if(E.marked)return E.marked;if(t=="variable"&&V(e,n))return"variable-2";return r}}}var E={state:null,column:null,marked:null,cc:null};function z(){for(var e=arguments.length-1;e>=0;e--)E.cc.push(arguments[e])}function I(){z.apply(null,arguments);return true}function t(t){function e(e){for(var r=e;r;r=r.next)if(r.name==t)return true;return false}var r=E.state;E.marked="def";if(r.context){if(e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;if(s.globalVars)r.globalVars={name:t,next:r.globalVars}}}function T(e){return e=="public"||e=="private"||e=="protected"||e=="abstract"||e=="readonly"}var r={name:"this",next:{name:"arguments"}};function $(){E.state.context={prev:E.state.context,vars:E.state.localVars};E.state.localVars=r}function C(){E.state.localVars=E.state.context.vars;E.state.context=E.state.context.prev}function q(n,i){var e=function(){var e=E.state,r=e.indented;if(e.lexical.type=="stat")r=e.lexical.indented;else for(var t=e.lexical;t&&t.type==")"&&t.align;t=t.prev)r=t.indented;e.lexical=new M(r,E.stream.column(),n,null,e.lexical,i)};e.lex=true;return e}function O(){var e=E.state;if(e.lexical.prev){if(e.lexical.type==")")e.indented=e.lexical.indented;e.lexical=e.lexical.prev}}O.lex=true;function P(r){function t(e){if(e==r)return I();else if(r==";")return z();else return I(t)}return t}function S(e,r){if(e=="var")return I(q("vardef",r.length),ve,P(";"),O);if(e=="keyword a")return I(q("form"),U,S,O);if(e=="keyword b")return I(q("form"),S,O);if(e=="keyword d")return E.stream.match(/^\s*$/,false)?I():I(q("stat"),H,P(";"),O);if(e=="debugger")return I(P(";"));if(e=="{")return I(q("}"),ie,O);if(e==";")return I();if(e=="if"){if(E.state.lexical.info=="else"&&E.state.cc[E.state.cc.length-1]==O)E.state.cc.pop()();return I(q("form"),U,S,O,xe)}if(e=="function")return I(Ee);if(e=="for")return I(q("form"),ge,S,O);if(e=="class"||d&&r=="interface"){E.marked="keyword";return I(q("form"),Te,O)}if(e=="variable"){if(d&&r=="declare"){E.marked="keyword";return I(S)}else if(d&&(r=="module"||r=="enum"||r=="type")&&E.stream.match(/^\s*\w/,false)){E.marked="keyword";if(r=="enum")return I(De);else if(r=="type")return I(oe,P("operator"),oe,P(";"));else return I(q("form"),ye,P("{"),q("}"),ie,O,O)}else if(d&&r=="namespace"){E.marked="keyword";return I(q("form"),W,ie,O)}else if(d&&r=="abstract"){E.marked="keyword";return I(S)}else{return I(q("stat"),Y)}}if(e=="switch")return I(q("form"),U,P("{"),q("}","switch"),ie,O,O);if(e=="case")return I(W,P(":"));if(e=="default")return I(P(":"));if(e=="catch")return I(q("form"),$,P("("),ze,P(")"),S,O,C);if(e=="export")return I(q("stat"),Oe,O);if(e=="import")return I(q("stat"),Se,O);if(e=="async")return I(S);if(r=="@")return I(W,S);return z(q("stat"),W,P(";"),O)}function W(e,r){return B(e,r,false)}function N(e,r){return B(e,r,true)}function U(e){if(e!="(")return z();return I(q(")"),W,P(")"),O)}function B(e,r,t){if(E.state.fatArrowAt==E.stream.start){var n=t?L:K;if(e=="(")return I($,q(")"),te(ze,")"),O,P("=>"),n,C);else if(e=="variable")return z($,ye,P("=>"),n,C)}var i=t?F:D;if(j.hasOwnProperty(e))return I(i);if(e=="function")return I(Ee,i);if(e=="class"||d&&r=="interface"){E.marked="keyword";return I(q("form"),Ie,O)}if(e=="keyword c"||e=="async")return I(t?N:W);if(e=="(")return I(q(")"),H,P(")"),O,i);if(e=="operator"||e=="spread")return I(t?N:W);if(e=="[")return I(q("]"),He,O,i);if(e=="{")return ne(_,"}",null,i);if(e=="quasi")return z(G,i);if(e=="new")return I(Q(t));if(e=="import")return I(W);return I()}function H(e){if(e.match(/[;\}\)\],]/))return z();return z(W)}function D(e,r){if(e==",")return I(W);return F(e,r,false)}function F(e,r,t){var n=t==false?D:F;var i=t==false?W:N;if(e=="=>")return I($,t?L:K,C);if(e=="operator"){if(/\+\+|--/.test(r)||d&&r=="!")return I(n);if(d&&r=="<"&&E.stream.match(/^([^>]|<.*?>)*>\s*\(/,false))return I(q(">"),te(oe,">"),O,n);if(r=="?")return I(W,P(":"),i);return I(i)}if(e=="quasi"){return z(G,n)}if(e==";")return;if(e=="(")return ne(N,")","call",n);if(e==".")return I(Z,n);if(e=="[")return I(q("]"),H,P("]"),O,n);if(d&&r=="as"){E.marked="keyword";return I(oe,n)}if(e=="regexp"){E.state.lastType=E.marked="operator";E.stream.backUp(E.stream.pos-E.stream.start-1);return I(i)}}function G(e,r){if(e!="quasi")return z();if(r.slice(r.length-2)!="${")return I(G);return I(W,J)}function J(e){if(e=="}"){E.marked="string-2";E.state.tokenize=h;return I(G)}}function K(e){g(E.stream,E.state);return z(e=="{"?S:W)}function L(e){g(E.stream,E.state);return z(e=="{"?S:N)}function Q(r){return function(e){if(e==".")return I(r?X:R);else if(e=="variable"&&d)return I(pe,r?F:D);else return z(r?N:W)}}function R(e,r){if(r=="target"){E.marked="keyword";return I(D)}}function X(e,r){if(r=="target"){E.marked="keyword";return I(F)}}function Y(e){if(e==":")return I(O,S);return z(D,P(";"),O)}function Z(e){if(e=="variable"){E.marked="property";return I()}}function _(e,r){if(e=="async"){E.marked="property";return I(_)}else if(e=="variable"||E.style=="keyword"){E.marked="property";if(r=="get"||r=="set")return I(ee);var t;if(d&&E.state.fatArrowAt==E.stream.start&&(t=E.stream.match(/^\s*:\s*/,false)))E.state.fatArrowAt=E.stream.pos+t[0].length;return I(re)}else if(e=="number"||e=="string"){E.marked=a?"property":E.style+" property";return I(re)}else if(e=="jsonld-keyword"){return I(re)}else if(d&&T(r)){E.marked="keyword";return I(_)}else if(e=="["){return I(W,ae,P("]"),re)}else if(e=="spread"){return I(N,re)}else if(r=="*"){E.marked="keyword";return I(_)}else if(e==":"){return z(re)}}function ee(e){if(e!="variable")return z(re);E.marked="property";return I(Ee)}function re(e){if(e==":")return I(N);if(e=="(")return z(Ee)}function te(n,i,a){function f(e,r){if(a?a.indexOf(e)>-1:e==","){var t=E.state.lexical;if(t.info=="call")t.pos=(t.pos||0)+1;return I(function(e,r){if(e==i||r==i)return z();return z(n)},f)}if(e==i||r==i)return I();return I(P(i))}return function(e,r){if(e==i||r==i)return I();return z(n,f)}}function ne(e,r,t){for(var n=3;n<arguments.length;n++)E.cc.push(arguments[n]);return I(q(r,t),te(e,r),O)}function ie(e){if(e=="}")return I();return z(S,ie)}function ae(e,r){if(d){if(e==":")return I(oe);if(r=="?")return I(ae)}}function fe(e){if(d&&e==":"){if(E.stream.match(/^\s*\w+\s+is\b/,false))return I(W,ue,oe);else return I(oe)}}function ue(e,r){if(r=="is"){E.marked="keyword";return I()}}function oe(e,r){if(r=="keyof"||r=="typeof"){E.marked="keyword";return I(r=="keyof"?oe:N)}if(e=="variable"||r=="void"){E.marked="type";return I(de)}if(e=="string"||e=="number"||e=="atom")return I(de);if(e=="[")return I(q("]"),te(oe,"]",","),O,de);if(e=="{")return I(q("}"),te(le,"}",",;"),O,de);if(e=="(")return I(te(ce,")"),se);if(e=="<")return I(te(oe,">"),oe)}function se(e){if(e=="=>")return I(oe)}function le(e,r){if(e=="variable"||E.style=="keyword"){E.marked="property";return I(le)}else if(r=="?"){return I(le)}else if(e==":"){return I(oe)}else if(e=="["){return I(W,ae,P("]"),le)}}function ce(e,r){if(e=="variable"&&E.stream.match(/^\s*[?:]/,false)||r=="?")return I(ce);if(e==":")return I(oe);return z(oe)}function de(e,r){if(r=="<")return I(q(">"),te(oe,">"),O,de);if(r=="|"||e=="."||r=="&")return I(oe);if(e=="[")return I(P("]"),de);if(r=="extends"||r=="implements"){E.marked="keyword";return I(oe)}}function pe(e,r){if(r=="<")return I(q(">"),te(oe,">"),O,de)}function me(){return z(oe,ke)}function ke(e,r){if(r=="=")return I(oe)}function ve(e,r){if(r=="enum"){E.marked="keyword";return I(De)}return z(ye,ae,be,he)}function ye(e,r){if(d&&T(r)){E.marked="keyword";return I(ye)}if(e=="variable"){t(r);return I()}if(e=="spread")return I(ye);if(e=="[")return ne(ye,"]");if(e=="{")return ne(we,"}")}function we(e,r){if(e=="variable"&&!E.stream.match(/^\s*:/,false)){t(r);return I(be)}if(e=="variable")E.marked="property";if(e=="spread")return I(ye);if(e=="}")return z();return I(P(":"),ye,be)}function be(e,r){if(r=="=")return I(N)}function he(e){if(e==",")return I(ve)}function xe(e,r){if(e=="keyword b"&&r=="else")return I(q("form","else"),S,O)}function ge(e,r){if(r=="await")return I(ge);if(e=="(")return I(q(")"),je,P(")"),O)}function je(e){if(e=="var")return I(ve,P(";"),Ve);if(e==";")return I(Ve);if(e=="variable")return I(Me);return z(W,P(";"),Ve)}function Me(e,r){if(r=="in"||r=="of"){E.marked="keyword";return I(W)}return I(D,Ve)}function Ve(e,r){if(e==";")return I(Ae);if(r=="in"||r=="of"){E.marked="keyword";return I(W)}return z(W,P(";"),Ae)}function Ae(e){if(e!=")")I(W)}function Ee(e,r){if(r=="*"){E.marked="keyword";return I(Ee)}if(e=="variable"){t(r);return I(Ee)}if(e=="(")return I($,q(")"),te(ze,")"),O,fe,S,C);if(d&&r=="<")return I(q(">"),te(me,">"),O,Ee)}function ze(e,r){if(r=="@")I(W,ze);if(e=="spread")return I(ze);if(d&&T(r)){E.marked="keyword";return I(ze)}return z(ye,ae,be)}function Ie(e,r){if(e=="variable")return Te(e,r);return $e(e,r)}function Te(e,r){if(e=="variable"){t(r);return I($e)}}function $e(e,r){if(r=="<")return I(q(">"),te(me,">"),O,$e);if(r=="extends"||r=="implements"||d&&e==","){if(r=="implements")E.marked="keyword";return I(d?oe:W,$e)}if(e=="{")return I(q("}"),Ce,O)}function Ce(e,r){if(e=="async"||e=="variable"&&(r=="static"||r=="get"||r=="set"||d&&T(r))&&E.stream.match(/^\s+[\w$\xa1-\uffff]/,false)){E.marked="keyword";return I(Ce)}if(e=="variable"||E.style=="keyword"){E.marked="property";return I(d?qe:Ee,Ce)}if(e=="[")return I(W,ae,P("]"),d?qe:Ee,Ce);if(r=="*"){E.marked="keyword";return I(Ce)}if(e==";")return I(Ce);if(e=="}")return I();if(r=="@")return I(W,Ce)}function qe(e,r){if(r=="?")return I(qe);if(e==":")return I(oe,be);if(r=="=")return I(N);return z(Ee)}function Oe(e,r){if(r=="*"){E.marked="keyword";return I(Be,P(";"))}if(r=="default"){E.marked="keyword";return I(W,P(";"))}if(e=="{")return I(te(Pe,"}"),Be,P(";"));return z(S)}function Pe(e,r){if(r=="as"){E.marked="keyword";return I(P("variable"))}if(e=="variable")return z(N,Pe)}function Se(e){if(e=="string")return I();if(e=="(")return z(W);return z(We,Ne,Be)}function We(e,r){if(e=="{")return ne(We,"}");if(e=="variable")t(r);if(r=="*")E.marked="keyword";return I(Ue)}function Ne(e){if(e==",")return I(We,Ne)}function Ue(e,r){if(r=="as"){E.marked="keyword";return I(We)}}function Be(e,r){if(r=="from"){E.marked="keyword";return I(W)}}function He(e){if(e=="]")return I();return z(te(N,"]"))}function De(){return z(q("form"),ye,P("{"),q("}"),te(Fe,"}"),O,O)}function Fe(){return z(ye,be)}function Ge(e,r){return e.lastType=="operator"||e.lastType==","||o.test(r.charAt(0))||/[,.]/.test(r.charAt(0))}function Je(e,r,t){return r.tokenize==y&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||r.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(t||0)))}return{startState:function(e){var r={tokenize:y,lastType:"sof",cc:[],lexical:new M((e||0)-l,0,"block",false),localVars:s.localVars,context:s.localVars&&{vars:s.localVars},indented:e||0};if(s.globalVars&&typeof s.globalVars=="object")r.globalVars=s.globalVars;return r},token:function(e,r){if(e.sol()){if(!r.lexical.hasOwnProperty("align"))r.lexical.align=false;r.indented=e.indentation();g(e,r)}if(r.tokenize!=b&&e.eatSpace())return null;var t=r.tokenize(e,r);if(n=="comment")return t;r.lastType=n=="operator"&&(i=="++"||i=="--")?"incdec":n;return A(r,t,n,i,e)},indent:function(e,r){if(e.tokenize==b)return Ke.Pass;if(e.tokenize!=y)return 0;var t=r&&r.charAt(0),n=e.lexical,i;if(!/^\s*else\b/.test(r))for(var a=e.cc.length-1;a>=0;--a){var f=e.cc[a];if(f==O)n=n.prev;else if(f!=xe)break}while((n.type=="stat"||n.type=="form")&&(t=="}"||(i=e.cc[e.cc.length-1])&&(i==D||i==F)&&!/^[,\.=+\-*:?[\(]/.test(r)))n=n.prev;if(c&&n.type==")"&&n.prev.type=="stat")n=n.prev;var u=n.type,o=t==u;if(u=="vardef")return n.indented+(e.lastType=="operator"||e.lastType==","?n.info+1:0);else if(u=="form"&&t=="{")return n.indented;else if(u=="form")return n.indented+l;else if(u=="stat")return n.indented+(Ge(e,r)?c||l:0);else if(n.info=="switch"&&!o&&s.doubleIndentSwitch!=false)return n.indented+(/^(?:case|default)\b/.test(r)?l:2*l);else if(n.align)return n.column+(o?0:1);else return n.indented+(o?0:l)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:a,jsonMode:u,expressionAllowed:Je,skipExpression:function(e){var r=e.cc[e.cc.length-1];if(r==W||r==N)e.cc.pop()}}});Ke.registerHelper("wordChars","javascript",/[\w$]/);Ke.defineMIME("text/javascript","javascript");Ke.defineMIME("text/ecmascript","javascript");Ke.defineMIME("application/javascript","javascript");Ke.defineMIME("application/x-javascript","javascript");Ke.defineMIME("application/ecmascript","javascript");Ke.defineMIME("application/json",{name:"javascript",json:true});Ke.defineMIME("application/x-json",{name:"javascript",json:true});Ke.defineMIME("application/ld+json",{name:"javascript",jsonld:true});Ke.defineMIME("text/typescript",{name:"javascript",typescript:true});Ke.defineMIME("application/typescript",{name:"javascript",typescript:true})});